# macOS Build Guide - ã‚¢ãƒ—ãƒªèµ·å‹•ã¨DMGä½œæˆã®ä¿®æ­£ç‰ˆ

## ğŸ”§ ä¿®æ­£å†…å®¹

### å•é¡Œ1: ã‚¢ãƒ—ãƒªã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ä½•ã‚‚èµ·å‹•ã—ãªã„
**åŸå› **: 
- Zshæ§‹æ–‡ãŒbashã§å‹•ä½œã—ãªã„
- .appãƒãƒ³ãƒ‰ãƒ«ã‹ã‚‰Terminalã‚’èµ·å‹•ã™ã‚‹ä»•çµ„ã¿ãŒãªã‹ã£ãŸ

**ä¿®æ­£**:
- ãƒ©ãƒ³ãƒãƒ£ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆï¼ˆosascriptã§Terminalèµ·å‹•ï¼‰
- ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’Resourcesã«é…ç½®
- å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã¯Terminalãƒ©ãƒ³ãƒãƒ£ãƒ¼ã¨ã—ã¦æ©Ÿèƒ½

### å•é¡Œ2: DMGã®ã‚µã‚¤ã‚ºãŒå°ã•ãã€Applications ãƒ•ã‚©ãƒ«ãƒ€ã¸ã®ãƒªãƒ³ã‚¯ãŒãªã„
**åŸå› **:
- å˜ã«ã‚¢ãƒ—ãƒªã ã‘ã‚’DMGã«å«ã‚ã¦ã„ãŸ
- Applicationsãƒ•ã‚©ãƒ«ãƒ€ã¸ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ãŒæ¬ å¦‚

**ä¿®æ­£**:
- ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
- Applicationsãƒ•ã‚©ãƒ«ãƒ€ã¸ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’è¿½åŠ 
- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¯èƒ½ã«

---

## ğŸš€ macOSã§ã®ãƒ“ãƒ«ãƒ‰æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—

```bash
cd /Users/hehex/Documents/GitHub/PlayCoverManager
git pull origin main
```

### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
# å¤ã„ã‚¢ã‚¤ã‚³ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
rm -rf AppIcon.iconset AppIcon.icns

# ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç”Ÿæˆ
./create-icon.sh
```

### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰

```bash
./build-app.sh
```

### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚¢ãƒ—ãƒªã‚’ãƒ†ã‚¹ãƒˆ

```bash
./test-app.sh
```

ã¾ãŸã¯æ‰‹å‹•ã§ãƒ†ã‚¹ãƒˆï¼š

```bash
# èµ·å‹•ãƒ†ã‚¹ãƒˆ
open "build/PlayCover Manager.app"
```

---

## ğŸ¯ ä¸€ç™ºã‚³ãƒãƒ³ãƒ‰ï¼ˆã™ã¹ã¦å®Ÿè¡Œï¼‰

```bash
cd /Users/hehex/Documents/GitHub/PlayCoverManager && \
git pull origin main && \
rm -rf AppIcon.iconset AppIcon.icns build && \
./create-icon.sh && \
./build-app.sh && \
./test-app.sh
```

---

## âœ… æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ

### ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚:

1. **Finderã§ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯**
   ```
   PlayCover Manager.app ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯
   ```

2. **Terminalã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒé–‹ã**
   ```
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
     ğŸ“± PlayCover Volume Manager v5.0.0
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   
     1. ã‚¢ãƒ—ãƒªç®¡ç†
     2. ãƒœãƒªãƒ¥ãƒ¼ãƒ æ“ä½œ
     3. ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆï¼ˆå†…è”µâ‡„å¤–éƒ¨ï¼‰
     4. ãƒ‡ã‚£ã‚¹ã‚¯ã‚’å–ã‚Šå¤–ã™
     0. çµ‚äº†
   ```

3. **ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹**
   - é€šå¸¸ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¢ãƒ—ãƒªã¨ã—ã¦å‹•ä½œ
   - è‰²ä»˜ããƒ†ã‚­ã‚¹ãƒˆã€çµµæ–‡å­—ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼

### DMGãƒã‚¦ãƒ³ãƒˆæ™‚:

```
PlayCover Manager-5.0.0.dmg ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯
â†“
Finderã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒé–‹ã
â†“
[PlayCover Manager.app] ã¨ [Applications â†’] ãŒè¡¨ç¤ºã•ã‚Œã‚‹
â†“
ã‚¢ãƒ—ãƒªã‚’Applicationsãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
```

---

## ğŸ“¦ ãƒ“ãƒ«ãƒ‰æˆæœç‰©

### build/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†…å®¹:

```
build/
â”œâ”€â”€ PlayCover Manager.app/
â”‚   â””â”€â”€ Contents/
â”‚       â”œâ”€â”€ Info.plist
â”‚       â”œâ”€â”€ MacOS/
â”‚       â”‚   â””â”€â”€ PlayCoverManager     (ãƒ©ãƒ³ãƒãƒ£ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ)
â”‚       â””â”€â”€ Resources/
â”‚           â”œâ”€â”€ main-script.sh       (ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯)
â”‚           â”œâ”€â”€ lib/                 (8ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)
â”‚           â”œâ”€â”€ AppIcon.icns         (ã‚¢ã‚¤ã‚³ãƒ³)
â”‚           â””â”€â”€ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé¡
â”œâ”€â”€ PlayCover Manager-5.0.0.dmg      (ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼)
â””â”€â”€ PlayCover Manager-5.0.0.zip      (é…å¸ƒç”¨ZIP)
```

### ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º:

- **ã‚¢ãƒ—ãƒªæœ¬ä½“**: ~75KB
- **DMG**: ~150KB
- **ZIP**: ~63KB

---

## ğŸ” å‹•ä½œç¢ºèª

### 1. ã‚¢ãƒ—ãƒªæ§‹é€ ã®ç¢ºèª

```bash
./test-app.sh
```

ã¾ãŸã¯æ‰‹å‹•ã§ï¼š

```bash
# ãƒ©ãƒ³ãƒãƒ£ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ç¢ºèª
cat "build/PlayCover Manager.app/Contents/MacOS/PlayCoverManager"

# ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ç¢ºèª
ls -la "build/PlayCover Manager.app/Contents/Resources/main-script.sh"

# ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç¢ºèª
ls -la "build/PlayCover Manager.app/Contents/Resources/lib/"
```

### 2. èµ·å‹•ãƒ†ã‚¹ãƒˆ

```bash
# Finderã‹ã‚‰é–‹ã
open "build/PlayCover Manager.app"

# Terminalã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒé–‹ãã“ã¨ã‚’ç¢ºèª
# ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
```

### 3. DMGãƒ†ã‚¹ãƒˆ

```bash
# DMGã‚’ãƒã‚¦ãƒ³ãƒˆ
open "build/PlayCover Manager-5.0.0.dmg"

# Finderã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ç¢ºèª:
# - PlayCover Manager.app ãŒè¡¨ç¤ºã•ã‚Œã‚‹
# - Applications ã¸ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹
```

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q: ã‚¢ãƒ—ãƒªã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ä½•ã‚‚èµ·ã“ã‚‰ãªã„

**è¨ºæ–­**:
```bash
# ãƒ©ãƒ³ãƒãƒ£ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç›´æ¥å®Ÿè¡Œ
bash "build/PlayCover Manager.app/Contents/MacOS/PlayCoverManager"
```

**è€ƒãˆã‚‰ã‚Œã‚‹åŸå› **:
1. å®Ÿè¡Œæ¨©é™ãŒãªã„
   ```bash
   chmod +x "build/PlayCover Manager.app/Contents/MacOS/PlayCoverManager"
   ```

2. ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„
   ```bash
   ls "build/PlayCover Manager.app/Contents/Resources/main-script.sh"
   ```

### Q: Terminalæ¨©é™ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

**è§£æ±ºæ–¹æ³•**:
```
ã‚·ã‚¹ãƒ†ãƒ è¨­å®š â†’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ â†’ ãƒ•ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯ã‚¢ã‚¯ã‚»ã‚¹
â†’ Terminal.app ã‚’è¿½åŠ 
```

### Q: Gatekeeperè­¦å‘ŠãŒå‡ºã‚‹

**è§£æ±ºæ–¹æ³•**:
```bash
# Gatekeeperå±æ€§ã‚’å‰Šé™¤
xattr -cr "build/PlayCover Manager.app"

# ã¾ãŸã¯å³ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œé–‹ãã€ã‚’é¸æŠ
```

### Q: DMGã«Applicationsãƒ•ã‚©ãƒ«ãƒ€ãŒè¡¨ç¤ºã•ã‚Œãªã„

**ç¢ºèª**:
```bash
# DMGã‚’ãƒã‚¦ãƒ³ãƒˆ
hdiutil attach "build/PlayCover Manager-5.0.0.dmg"

# å†…å®¹ã‚’ç¢ºèª
ls -la "/Volumes/PlayCover Manager/"

# ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆ
hdiutil detach "/Volumes/PlayCover Manager"
```

æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
```
lrwxr-xr-x  1 user  staff   12 Oct 29 03:00 Applications -> /Applications
drwxr-xr-x  3 user  staff   96 Oct 29 03:00 PlayCover Manager.app
```

---

## ğŸ“‹ ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ§‹é€ 

### PlayCoverManager (ãƒ©ãƒ³ãƒãƒ£ãƒ¼)
```bash
#!/bin/bash
# å½¹å‰²: Terminalã‚’èµ·å‹•ã—ã¦ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
# å ´æ‰€: Contents/MacOS/PlayCoverManager

osascript ã§Terminalã‚’èµ·å‹•
â†“
main-script.sh ã‚’å®Ÿè¡Œ
```

### main-script.sh (ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯)
```bash
#!/bin/bash
# å½¹å‰²: PlayCover Managerã®æœ¬ä½“
# å ´æ‰€: Contents/Resources/main-script.sh

lib/*.sh ã‚’èª­ã¿è¾¼ã¿
â†“
ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤ºãƒ»å‡¦ç†
```

---

## ğŸš€ é…å¸ƒæº–å‚™

### GitHub Releasesã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰:

```bash
# 1. ZIPãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
ls -lh "build/PlayCover Manager-5.0.0.zip"

# 2. DMGãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
ls -lh "build/PlayCover Manager-5.0.0.dmg"

# 3. GitHub Releasesã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
# - ZIP: ä¸‡èƒ½é…å¸ƒå½¢å¼ï¼ˆæ¨å¥¨ï¼‰
# - DMG: macOSæ¨™æº–ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼å½¢å¼
```

### ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †:

#### æ–¹æ³•1: ZIPã‹ã‚‰ï¼ˆç°¡å˜ï¼‰
```bash
# 1. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
# PlayCover Manager-5.0.0.zip

# 2. è§£å‡
unzip "PlayCover Manager-5.0.0.zip"

# 3. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
mv "PlayCover Manager.app" /Applications/

# 4. èµ·å‹•
# Finderã‹ã‚‰å³ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œé–‹ãã€
```

#### æ–¹æ³•2: DMGã‹ã‚‰ï¼ˆæ¨å¥¨ï¼‰
```bash
# 1. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
# PlayCover Manager-5.0.0.dmg

# 2. ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ãƒã‚¦ãƒ³ãƒˆ

# 3. ã‚¢ãƒ—ãƒªã‚’Applicationsãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—

# 4. èµ·å‹•
# Finderã‹ã‚‰å³ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œé–‹ãã€
```

---

## âœ¨ ã¾ã¨ã‚

### ä¿®æ­£å†…å®¹:
- âœ… ã‚¢ãƒ—ãƒªãŒæ­£å¸¸ã«èµ·å‹•ï¼ˆTerminalã‚¦ã‚£ãƒ³ãƒ‰ã‚¦è¡¨ç¤ºï¼‰
- âœ… DMGã«Applicationsãƒ•ã‚©ãƒ«ãƒ€ãƒªãƒ³ã‚¯è¿½åŠ 
- âœ… ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯¾å¿œ
- âœ… ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
1. macOSã§ãƒ“ãƒ«ãƒ‰
2. å‹•ä½œç¢ºèª
3. GitHub Releasesã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
4. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é…å¸ƒ

**ğŸŠ ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ å®Œæˆï¼**
