# DMGä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆæ¯”è¼ƒã‚¬ã‚¤ãƒ‰

## ğŸ“‹ 3ã¤ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯3ã¤ã®DMGä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚ã‚Šã¾ã™ã€‚ç”¨é€”ã«å¿œã˜ã¦ä½¿ã„åˆ†ã‘ã¦ãã ã•ã„ã€‚

---

## ğŸ”§ ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ¯”è¼ƒ

### 1. **create-installer-dmg.sh** (æ¨™æº–)

**ç‰¹å¾´**:
- `create-dmg` ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨
- ã‚·ãƒ³ãƒ—ãƒ«ã§é«˜é€Ÿ
- åŸºæœ¬çš„ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

**æ¨å¥¨åº¦**: â­â­â­
**ä½¿ç”¨å ´é¢**: é€šå¸¸ã®ãƒ“ãƒ«ãƒ‰ã€CI/CD

**ã‚³ãƒãƒ³ãƒ‰**:
```bash
./create-installer-dmg.sh
```

**åˆ©ç‚¹**:
- âœ… é«˜é€Ÿ
- âœ… ä¿¡é ¼æ€§ãŒé«˜ã„
- âœ… ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã—ã‚„ã™ã„

**æ¬ ç‚¹**:
- âš ï¸ `.VolumeIcon.icns` ãŒè¦‹ãˆã‚‹å ´åˆãŒã‚ã‚‹
- âš ï¸ ç´°ã‹ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ãŒé›£ã—ã„

---

### 2. **create-perfect-dmg.sh** (æ”¹è‰¯ç‰ˆ)

**ç‰¹å¾´**:
- `create-dmg` + è¿½åŠ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- ä¸å¯è¦–ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Œå…¨ã«éš ã™
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæœ€é©åŒ–

**æ¨å¥¨åº¦**: â­â­â­â­
**ä½¿ç”¨å ´é¢**: GitHub Releasesã€æ­£å¼é…å¸ƒ

**ã‚³ãƒãƒ³ãƒ‰**:
```bash
./create-perfect-dmg.sh
```

**åˆ©ç‚¹**:
- âœ… ã‚¯ãƒªãƒ¼ãƒ³ãªè¦‹ãŸç›®
- âœ… ä¸å¯è¦–ãƒ•ã‚¡ã‚¤ãƒ«ã‚’éš ã™
- âœ… `create-dmg` ã®åˆ©ç‚¹ã‚’ä¿æŒ

**æ¬ ç‚¹**:
- âš ï¸ å°‘ã—é…ã„ï¼ˆãƒã‚¦ãƒ³ãƒˆ/ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆå‡¦ç†ï¼‰

---

### 3. **create-dmg-applescript.sh** (æœ€é«˜å“è³ª)

**ç‰¹å¾´**:
- AppleScript ã§å®Œå…¨åˆ¶å¾¡
- Finderè¡¨ç¤ºã‚’ç›´æ¥è¨­å®š
- æœ€ã‚‚æŸ”è»Ÿ

**æ¨å¥¨åº¦**: â­â­â­â­â­
**ä½¿ç”¨å ´é¢**: æœ€çµ‚ãƒªãƒªãƒ¼ã‚¹ã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³

**ã‚³ãƒãƒ³ãƒ‰**:
```bash
./create-dmg-applescript.sh
```

**åˆ©ç‚¹**:
- âœ… å®Œç’§ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ¶å¾¡
- âœ… èƒŒæ™¯è‰²ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- âœ… ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªä»•ä¸ŠãŒã‚Š
- âœ… ä¸å¯è¦–ãƒ•ã‚¡ã‚¤ãƒ«å®Œå…¨éè¡¨ç¤º

**æ¬ ç‚¹**:
- âš ï¸ æœ€ã‚‚é…ã„
- âš ï¸ AppleScriptå®Ÿè¡ŒãŒå¿…è¦
- âš ï¸ Finderã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒä¸€ç¬è¡¨ç¤ºã•ã‚Œã‚‹

---

## ğŸ¯ æ¨å¥¨ä½¿ç”¨æ–¹æ³•

### é–‹ç™ºä¸­
```bash
./create-installer-dmg.sh
# é«˜é€Ÿã€ã‚·ãƒ³ãƒ—ãƒ«
```

### ãƒ†ã‚¹ãƒˆé…å¸ƒ
```bash
./create-perfect-dmg.sh
# ã‚¯ãƒªãƒ¼ãƒ³ãªè¦‹ãŸç›®
```

### æ­£å¼ãƒªãƒªãƒ¼ã‚¹
```bash
./create-dmg-applescript.sh
# æœ€é«˜å“è³ª
```

---

## ğŸ“Š è©³ç´°æ¯”è¼ƒè¡¨

| é …ç›® | installer | perfect | applescript |
|------|-----------|---------|-------------|
| **é€Ÿåº¦** | âš¡âš¡âš¡ | âš¡âš¡ | âš¡ |
| **å“è³ª** | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ¶å¾¡** | åŸºæœ¬ | è‰¯ã„ | å®Œç’§ |
| **ä¸å¯è¦–ãƒ•ã‚¡ã‚¤ãƒ«** | è¡¨ç¤ºã•ã‚Œã‚‹å¯èƒ½æ€§ | éš ã™ | å®Œå…¨éè¡¨ç¤º |
| **èƒŒæ™¯è‰²** | ãªã— | ãªã— | ã‚«ã‚¹ã‚¿ãƒ å¯èƒ½ |
| **CI/CDé©åˆæ€§** | âœ… | âœ… | âš ï¸ |
| **ä¾å­˜ãƒ„ãƒ¼ãƒ«** | create-dmg | create-dmg | hdiutil + osascript |

---

## ğŸš€ ä¸€ç™ºã‚³ãƒãƒ³ãƒ‰

### æ¨™æº–ãƒ“ãƒ«ãƒ‰
```bash
cd /Users/hehex/Documents/GitHub/PlayCoverManager && \
git pull origin main && \
rm -rf build AppIcon.iconset AppIcon.icns && \
./create-icon.sh && \
./build-app.sh && \
./create-installer-dmg.sh
```

### é«˜å“è³ªãƒ“ãƒ«ãƒ‰
```bash
cd /Users/hehex/Documents/GitHub/PlayCoverManager && \
git pull origin main && \
rm -rf build AppIcon.iconset AppIcon.icns && \
./create-icon.sh && \
./build-app.sh && \
./create-perfect-dmg.sh
```

### æœ€é«˜å“è³ªãƒ“ãƒ«ãƒ‰
```bash
cd /Users/hehex/Documents/GitHub/PlayCoverManager && \
git pull origin main && \
rm -rf build AppIcon.iconset AppIcon.icns && \
./create-icon.sh && \
./build-app.sh && \
./create-dmg-applescript.sh
```

---

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒã‚¤ãƒ³ãƒˆ

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåº§æ¨™

**create-installer-dmg.sh & create-perfect-dmg.sh**:
```bash
--icon "${APP_NAME}.app" 180 200      # ã‚¢ãƒ—ãƒªã®ä½ç½®
--app-drop-link 480 200               # Applicationsä½ç½®
--window-size 660 450                 # ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚º
--icon-size 128                       # ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚º
```

**create-dmg-applescript.sh**:
```applescript
set position of item "${APP_NAME}.app" to {180, 180}
set position of item "Applications" to {480, 180}
set the bounds of container window to {200, 120, 860, 520}
set icon size of viewOptions to 128
```

### èƒŒæ™¯è‰²

**create-dmg-applescript.sh ã®ã¿**:
```applescript
set background color of viewOptions to {11264, 15872, 20480}
# RGBå€¤ã‚’65535ã§æ­£è¦åŒ–: {R*256, G*256, B*256}
# ä¾‹: #2c3e50 â†’ {44*256, 62*256, 80*256}
```

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q: `.VolumeIcon.icns` ãŒè¦‹ãˆã‚‹

**A**: `create-perfect-dmg.sh` ã¾ãŸã¯ `create-dmg-applescript.sh` ã‚’ä½¿ç”¨

### Q: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå´©ã‚Œã‚‹

**A**: `create-dmg-applescript.sh` ã‚’ä½¿ç”¨ï¼ˆæœ€ã‚‚ç¢ºå®Ÿï¼‰

### Q: Finderã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒé–‹ã

**A**: AppleScriptç‰ˆã®ä»•æ§˜ã§ã™ã€‚è‡ªå‹•çš„ã«é–‰ã˜ã¾ã™

### Q: èƒŒæ™¯è‰²ã‚’å¤‰æ›´ã—ãŸã„

**A**: `create-dmg-applescript.sh` ã®èƒŒæ™¯è‰²è¨­å®šã‚’ç·¨é›†

### Q: ã‚¢ã‚¤ã‚³ãƒ³ä½ç½®ã‚’å¾®èª¿æ•´ã—ãŸã„

**A**: å„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®åº§æ¨™å€¤ã‚’ç·¨é›†

---

## ğŸ“ ã¾ã¨ã‚

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¬ã‚¤ãƒ‰

```
é€šå¸¸ã®ãƒ“ãƒ«ãƒ‰:
  â†’ ./create-installer-dmg.sh

ã‚¯ãƒªãƒ¼ãƒ³ãªè¦‹ãŸç›®ãŒé‡è¦:
  â†’ ./create-perfect-dmg.sh

æœ€é«˜å“è³ªãŒå¿…è¦:
  â†’ ./create-dmg-applescript.sh
```

### ãŠã™ã™ã‚

**GitHub Releasesã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å ´åˆ**:
```bash
./create-dmg-applescript.sh
```

**ç†ç”±**:
- æœ€ã‚‚ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªè¦‹ãŸç›®
- ä¸å¯è¦–ãƒ•ã‚¡ã‚¤ãƒ«ãŒå®Œå…¨ã«éš ã‚Œã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ãŒæœ€é«˜

---

## ğŸ¨ è¦‹ãŸç›®ã®é•ã„

### create-installer-dmg.sh
```
âœ… ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
âš ï¸  .VolumeIcon.icns ãŒè¦‹ãˆã‚‹å¯èƒ½æ€§
âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªç™½èƒŒæ™¯
```

### create-perfect-dmg.sh
```
âœ… ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
âœ… ä¸å¯è¦–ãƒ•ã‚¡ã‚¤ãƒ«ã‚’éš ã™
âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªç™½èƒŒæ™¯
```

### create-dmg-applescript.sh
```
âœ… ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
âœ… ä¸å¯è¦–ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Œå…¨éè¡¨ç¤º
âœ… ã‚«ã‚¹ã‚¿ãƒ èƒŒæ™¯è‰²ï¼ˆãƒ€ãƒ¼ã‚¯ãƒ–ãƒ«ãƒ¼ï¼‰
âœ… å®Œç’§ãªã‚¢ã‚¤ã‚³ãƒ³é…ç½®
```

---

**æ¨å¥¨**: æ­£å¼ãƒªãƒªãƒ¼ã‚¹ã«ã¯ `create-dmg-applescript.sh` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼
